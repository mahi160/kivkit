/* InputGroup base styles */
.inputGroup {
  position: relative;
  display: flex;
  width: 100%;
  min-width: 0;
  align-items: center;
  outline: none;
  height: 2rem; /* h-8 */
  border-radius: 0.5rem; /* rounded-lg */
  border: 1px solid var(--input);
  transition: border-color 0.2s, box-shadow 0.2s;
}

/* Dark mode background */
@media (prefers-color-scheme: dark) {
  .inputGroup {
    background-color: rgba(var(--input-rgb, 0 0 0), 0.3);
  }
}

/* Focus visible ring effect */
.inputGroup:has([data-slot="input-group-control"]:focus-visible) {
  border-color: var(--ring);
  box-shadow: 0 0 0 3px rgba(var(--ring-rgb, 0 0 0), 0.5);
}

@media (prefers-color-scheme: dark) {
  .inputGroup:has([data-slot="input-group-control"]:focus-visible) {
    box-shadow: 0 0 0 3px rgba(var(--ring-rgb, 0 0 0), 0.5);
  }
}

/* Invalid state */
.inputGroup:has([data-slot][aria-invalid="true"]) {
  border-color: var(--destructive);
  box-shadow: 0 0 0 3px rgba(var(--destructive-rgb, 0 0 0), 0.2);
}

@media (prefers-color-scheme: dark) {
  .inputGroup:has([data-slot][aria-invalid="true"]) {
    box-shadow: 0 0 0 3px rgba(var(--destructive-rgb, 0 0 0), 0.4);
  }
}

/* Disabled state */
.inputGroup:has(:disabled) {
  background-color: rgba(var(--input-rgb, 0 0 0), 0.5);
  opacity: 0.5;
}

@media (prefers-color-scheme: dark) {
  .inputGroup:has(:disabled) {
    background-color: rgba(var(--input-rgb, 0 0 0), 0.8);
  }
}

/* Block alignment height adjustments */
.inputGroup:has([data-align="block-end"]),
.inputGroup:has([data-align="block-start"]) {
  height: auto;
  flex-direction: column;
}

/* Textarea height adjustment */
.inputGroup:has(textarea) {
  height: auto;
}

/* Padding adjustments for block alignments */
.inputGroup:has([data-align="block-end"]) > input {
  padding-top: 0.75rem;
}

.inputGroup:has([data-align="block-start"]) > input {
  padding-bottom: 0.75rem;
}

/* Padding adjustments for inline alignments */
.inputGroup:has([data-align="inline-end"]) > input {
  padding-right: 0.375rem;
}

.inputGroup:has([data-align="inline-start"]) > input {
  padding-left: 0.375rem;
}

/* Combobox content specific styles */
[data-slot="combobox-content"] .inputGroup:focus-within {
  border-color: inherit;
  box-shadow: none;
}

/* InputGroupAddon base styles */
.inputGroupAddon {
  display: flex;
  align-items: center;
  justify-content: center;
  height: auto;
  gap: 0.5rem;
  padding: 0.375rem 0;
  color: var(--muted-foreground);
  font-size: 0.875rem;
  font-weight: 500;
  cursor: text;
  user-select: none;
}

.inputGroupAddon:has(> svg:not([class*='size-'])) > svg {
  width: 1rem;
  height: 1rem;
}

.inputGroupAddon > kbd {
  border-radius: calc(var(--radius) - 5px);
}

.inputGroup[data-disabled="true"] .inputGroupAddon {
  opacity: 0.5;
}

/* Addon alignment variants */
.inputGroupAddon.addon-inline-start {
  padding-left: 0.5rem;
  order: -1;
}

.inputGroupAddon.addon-inline-start:has(> button) {
  margin-left: -0.3rem;
}

.inputGroupAddon.addon-inline-start:has(> kbd) {
  margin-left: -0.15rem;
}

.inputGroupAddon.addon-inline-end {
  padding-right: 0.5rem;
  order: 9999;
}

.inputGroupAddon.addon-inline-end:has(> button) {
  margin-right: -0.3rem;
}

.inputGroupAddon.addon-inline-end:has(> kbd) {
  margin-right: -0.15rem;
}

.inputGroupAddon.addon-block-start {
  padding: 0.5rem 0.625rem;
  padding-top: 0.5rem;
  order: -1;
  width: 100%;
  justify-content: flex-start;
}

.inputGroup:has(> input) .inputGroupAddon.addon-block-start {
  padding-top: 0.5rem;
}

.inputGroupAddon.addon-block-start.border-b {
  padding-bottom: 0.5rem;
}

.inputGroupAddon.addon-block-end {
  padding: 0.625rem 0.625rem;
  padding-bottom: 0.5rem;
  order: 9999;
  width: 100%;
  justify-content: flex-start;
}

.inputGroup:has(> input) .inputGroupAddon.addon-block-end {
  padding-bottom: 0.5rem;
}

.inputGroupAddon.addon-block-end.border-t {
  padding-top: 0.5rem;
}

/* InputGroupButton base styles */
.inputGroupButton {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  box-shadow: none;
}

/* Button size variants */
.inputGroupButton.button-xs {
  height: 1.5rem;
  gap: 0.25rem;
  border-radius: calc(var(--radius) - 3px);
  padding: 0 0.375rem;
}

.inputGroupButton.button-xs > svg:not([class*='size-']) {
  width: 0.875rem;
  height: 0.875rem;
}

.inputGroupButton.button-sm {
  /* Default button size */
}

.inputGroupButton.button-icon-xs {
  width: 1.5rem;
  height: 1.5rem;
  border-radius: calc(var(--radius) - 3px);
  padding: 0;
}

.inputGroupButton.button-icon-xs:has(> svg) {
  padding: 0;
}

.inputGroupButton.button-icon-sm {
  width: 2rem;
  height: 2rem;
  padding: 0;
}

.inputGroupButton.button-icon-sm:has(> svg) {
  padding: 0;
}

/* InputGroupText styles */
.inputGroupText {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--muted-foreground);
  font-size: 0.875rem;
}

.inputGroupText svg:not([class*='size-']) {
  width: 1rem;
  height: 1rem;
  pointer-events: none;
}

/* InputGroupInput styles */
.inputGroupInput {
  flex: 1;
  border-radius: 0;
  border: 0;
  background-color: transparent;
  box-shadow: none;
  outline: none;
}

.inputGroupInput:focus-visible {
  box-shadow: none;
  outline: none;
}

.inputGroupInput:disabled {
  background-color: transparent;
}

.inputGroupInput[aria-invalid="true"] {
  box-shadow: none;
}

@media (prefers-color-scheme: dark) {
  .inputGroupInput {
    background-color: transparent;
  }
  
  .inputGroupInput:disabled {
    background-color: transparent;
  }
}

/* InputGroupTextarea styles */
.inputGroupTextarea {
  flex: 1;
  border-radius: 0;
  border: 0;
  background-color: transparent;
  padding: 0.5rem 0;
  box-shadow: none;
  outline: none;
  resize: none;
}

.inputGroupTextarea:focus-visible {
  box-shadow: none;
  outline: none;
}

.inputGroupTextarea:disabled {
  background-color: transparent;
}

.inputGroupTextarea[aria-invalid="true"] {
  box-shadow: none;
}

@media (prefers-color-scheme: dark) {
  .inputGroupTextarea {
    background-color: transparent;
  }
  
  .inputGroupTextarea:disabled {
    background-color: transparent;
  }
}
